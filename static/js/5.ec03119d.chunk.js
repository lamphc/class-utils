(this["webpackJsonpclass-utils"]=this["webpackJsonpclass-utils"]||[]).push([[5],{225:function(e,t,n){"use strict";n.r(t);n(91);var a=n(78),l=n.n(a),s=(n(196),n(198)),c=n.n(s),u=(n(93),n(94)),i=n.n(u),o=(n(219),n(221)),r=n.n(o),f=(n(92),n(80)),d=n.n(f),m=(n(34),n(28)),h=n.n(m),p=(n(95),n(81)),k=n.n(p),b=n(39),g=n(40),v=n(42),y=n(41),O=n(43),R=n(0),j=n.n(R),w=n(222),E=Array.from(new Array(100)).map((function(e,t){return{student_name:"\u738b"+t}})),C=[{id:5779,label:"89\u671f"},{id:5780,label:"90\u671f"}];window.shuffle=w.shuffle;var S=/(?<=.)./g,_=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return(n=Object(v.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(l)))).state={luck:"luck man",isRoll:!1},n.speed=60,n.changeSpeed=function(e){n.speed=e},n.rollLuck=function(){n.setState({isRoll:!n.state.isRoll},(function(){n.state.isRoll?n.cln=setInterval((function(){n.setState({luck:n.selOne()})}),n.speed):n.stopRoll()}))},n.stopRoll=function(){n.cln&&clearInterval(n.cln)},n.shuffleClass=function(){n.students=Object(w.shuffle)(n.students),k.a.success("\u6210\u529f\u6d17\u724c".concat(n.students.length,"\u6761\u6570\u636e\uff0c\u987a\u5e8f\u5df2\u91cd\u65b0\u6253\u4e71\uff01\n    \r \u7ed3\u679c\uff1a").concat(n.students.map((function(e){return e.student_name.replace(S,"*")})).join(",")),6)},n.selOne=function(){var e=n.students.length,t=Math.floor(Math.random()*e+1)-1,a=n.students[t],l=a.student_name;if(a.class_id){var s=C.filter((function(e){return e.id===a.class_id}));s.length&&(l+="\uff08".concat(s[0].label,"\uff09"))}return l},n}return Object(O.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.students=JSON.parse(localStorage.getItem("students"))||E}},{key:"componentWillUnmount",value:function(){this.stopRoll()}},{key:"render",value:function(){var e=this.state,t=e.luck,n=e.isRoll;return j.a.createElement("div",{className:"time"},j.a.createElement(l.a,null,j.a.createElement(d.a,{img:j.a.createElement(h.a,{type:"check-circle",className:"spe",style:{fill:"#e94f4f"}}),title:t,message:"\u968f\u673a\u70b9\u540d",buttonText:n?"\u505c\u6b62":"\u70b9\u540d",buttonType:"primary",onButtonClick:this.rollLuck}),j.a.createElement(r.a,null),j.a.createElement(i.a,{type:"warning",onClick:this.shuffleClass},"\u6d17\u724c"),j.a.createElement(c.a,{marks:{10:"100\u8fc8",50:"50\u8fc8",90:"10\u8fc8"},defaultValue:this.speed,min:10,max:90,onChange:this.changeSpeed})))}}]),t}(R.Component);t.default=_}}]);
//# sourceMappingURL=5.ec03119d.chunk.js.map